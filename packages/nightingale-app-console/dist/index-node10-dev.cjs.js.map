{"version":3,"file":"index-node10-dev.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import { PRODUCTION, POB_TARGET } from 'pob-babel';\nimport { install as installSourceMapSupport } from 'source-map-support';\nimport Logger, {\n  configure,\n  addConfig,\n  Level,\n  levels,\n  listenUnhandledErrors,\n} from 'nightingale';\nimport TerminalConsoleHandler from 'nightingale-console';\nimport BrowserConsoleHandler from 'nightingale-browser-console';\n\nconst ConsoleHandler =\n  POB_TARGET === 'browser' ? BrowserConsoleHandler : TerminalConsoleHandler;\n\nexport { configure, addConfig, Level, levels };\n\nif (POB_TARGET !== 'browser' || !PRODUCTION) {\n  installSourceMapSupport({\n    environment: POB_TARGET === 'browser' ? 'browser' : 'node',\n  });\n}\n\nexport const logger = new Logger('app');\nexport const appLogger = logger;\n\nif (POB_TARGET !== 'browser') {\n  Error.stackTraceLimit = Infinity;\n  listenUnhandledErrors(logger);\n}\n\nconfigure(\n  !PRODUCTION\n    ? [\n        {\n          pattern: /^app(:|$)/,\n          handlers: [new ConsoleHandler(Level.DEBUG)],\n          stop: true,\n        },\n        {\n          handlers: [new ConsoleHandler(Level.INFO)],\n        },\n      ]\n    : [\n        {\n          handlers: [new ConsoleHandler(Level.INFO)],\n        },\n      ],\n);\n"],"names":["ConsoleHandler","TerminalConsoleHandler","installSourceMapSupport","environment","logger","Logger","appLogger","Error","stackTraceLimit","Infinity","listenUnhandledErrors","configure","pattern","handlers","Level","DEBUG","stop","INFO"],"mappings":";;;;;;;;;;;AAYA,MAAMA,cAAc,GACiCC,sBADrD;AAMEC,wBAAuB,CAAC;AACtBC,EAAAA,WAAW,EAAyC;AAD9B,CAAD,CAAvB;MAKWC,MAAM,GAAG,IAAIC,eAAJ,CAAW,KAAX;MACTC,SAAS,GAAGF;AAGvBG,KAAK,CAACC,eAAN,GAAwBC,QAAxB;AACAC,4BAAqB,CAACN,MAAD,CAArB;AAGFO,gBAAS,CAEH,CACE;AACEC,EAAAA,OAAO,EAAE,WADX;AAEEC,EAAAA,QAAQ,EAAE,CAAC,IAAIb,cAAJ,CAAmBc,YAAK,CAACC,KAAzB,CAAD,CAFZ;AAGEC,EAAAA,IAAI,EAAE;AAHR,CADF,EAME;AACEH,EAAAA,QAAQ,EAAE,CAAC,IAAIb,cAAJ,CAAmBc,YAAK,CAACG,IAAzB,CAAD;AADZ,CANF,CAFG,CAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}