{"version":3,"file":"index-node8-dev.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import { install as installSourceMapSupport } from 'source-map-support';\nimport Logger, { configure, addConfig, levels, listenUnhandledErrors } from 'nightingale';\nimport ConsoleHandler from 'nightingale-console';\n\nexport { configure, addConfig, levels };\n\nif (process.env.POB_TARGET !== 'browser' || process.env.NODE_ENV !== 'production') {\n  installSourceMapSupport({\n    environment: process.env.POB_TARGET === 'browser' ? 'browser' : 'node',\n  });\n}\n\nexport const logger = new Logger('app');\n\nif (process.env.POB_TARGET !== 'browser') {\n  Error.stackTraceLimit = Infinity;\n  listenUnhandledErrors(logger);\n}\n\nconfigure(\n  process.env.NODE_ENV !== 'production'\n    ? [\n        {\n          pattern: /^app(:.*)?$/,\n          handlers: [new ConsoleHandler(levels.DEBUG)],\n          stop: true,\n        },\n        {\n          handlers: [new ConsoleHandler(levels.INFO)],\n        },\n      ]\n    : [\n        {\n          handlers: [new ConsoleHandler(levels.INFO)],\n        },\n      ],\n);\n"],"names":["process","env","POB_TARGET","NODE_ENV","logger","Logger","stackTraceLimit","Infinity","configure","ConsoleHandler","levels","DEBUG","INFO"],"mappings":";;;;;;;;;;;AAMA,IAAIA,QAAQC,GAAR,CAAYC,UAAZ,KAA2B,SAA3B,IAAwCF,QAAQC,GAAR,CAAYE,QAAZ,KAAyB,YAArE,EAAmF;2BACzD;iBACTH,QAAQC,GAAR,CAAYC,UAAZ,KAA2B,SAA3B,GAAuC,SAAvC,GAAmD;GADlE;;;AAKF,MAAaE,SAAS,IAAIC,eAAJ,CAAW,KAAX,CAAf;;AAEP,IAAIL,QAAQC,GAAR,CAAYC,UAAZ,KAA2B,SAA/B,EAA0C;QAClCI,eAAN,GAAwBC,QAAxB;+BACsBH,MAAtB;;;AAGFI,iBACER,QAAQC,GAAR,CAAYE,QAAZ,KAAyB,YAAzB,GACI,CACE;WACW,aADX;YAEY,CAAC,IAAIM,cAAJ,CAAmBC,cAAOC,KAA1B,CAAD,CAFZ;QAGQ;CAJV,EAME;YACY,CAAC,IAAIF,cAAJ,CAAmBC,cAAOE,IAA1B,CAAD;CAPd,CADJ,GAWI,CACE;YACY,CAAC,IAAIH,cAAJ,CAAmBC,cAAOE,IAA1B,CAAD;CAFd,CAZN;;;;;;;"}