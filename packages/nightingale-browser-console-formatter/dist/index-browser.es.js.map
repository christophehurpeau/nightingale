{"version":3,"file":"index-browser.es.js","sources":["../src/index.ts"],"sourcesContent":["import type { StyleToHtmlStyle } from 'nightingale-formatter';\nimport {\n  formatRecordToString,\n  styleToHtmlStyleThemeLight,\n  styleToHtmlStyleThemeDark,\n} from 'nightingale-formatter';\nimport type { LogRecord, Metadata, Styles } from 'nightingale-types';\n\nexport const style =\n  (styleToHtmlStyle: StyleToHtmlStyle, args: string[]) =>\n  (styles: Styles, string: string): string => {\n    if (!styles || styles.length === 0 || !string) {\n      return string;\n    }\n\n    const htmlStyles = styles.map((styleName) => styleToHtmlStyle[styleName]);\n    args.push(\n      htmlStyles.map((s) => s.open).join('; '),\n      htmlStyles.map((s) => s.close).join('; '),\n    );\n    return `%c${string}%c`;\n  };\n\nexport function createBrowserConsoleFormatter(\n  theme: 'dark' | 'light' = 'light',\n): <T extends Metadata>(record: LogRecord<T>) => string[] {\n  const styleToHtmlStyle: StyleToHtmlStyle =\n    theme === 'dark' ? styleToHtmlStyleThemeDark : styleToHtmlStyleThemeLight;\n  return function format<T extends Metadata>(record: LogRecord<T>): string[] {\n    const args: string[] = [];\n    const string = formatRecordToString(record, style(styleToHtmlStyle, args));\n    return [string, ...args];\n  };\n}\n"],"names":["style","styleToHtmlStyle","args","styles","string","length","htmlStyles","map","styleName","push","s","open","join","close","createBrowserConsoleFormatter","theme","styleToHtmlStyleThemeDark","styleToHtmlStyleThemeLight","format","record","formatRecordToString","concat"],"mappings":";;AAQO,IAAMA,KAAK,GAChB,SADWA,KAAKA,CACfC,gBAAkC,EAAEC,IAAc,EAAA;AAAA,EAAA,OACnD,UAACC,MAAc,EAAEC,MAAc,EAAa;IAC1C,IAAI,CAACD,MAAM,IAAIA,MAAM,CAACE,MAAM,KAAK,CAAC,IAAI,CAACD,MAAM,EAAE;AAC7C,MAAA,OAAOA,MAAM,CAAA;AACf,KAAA;AAEA,IAAA,IAAME,UAAU,GAAGH,MAAM,CAACI,GAAG,CAAC,UAACC,SAAS,EAAA;MAAA,OAAKP,gBAAgB,CAACO,SAAS,CAAC,CAAA;KAAC,CAAA,CAAA;IACzEN,IAAI,CAACO,IAAI,CACPH,UAAU,CAACC,GAAG,CAAC,UAACG,CAAC,EAAA;MAAA,OAAKA,CAAC,CAACC,IAAI,CAAA;KAAC,CAAA,CAACC,IAAI,CAAC,IAAI,CAAC,EACxCN,UAAU,CAACC,GAAG,CAAC,UAACG,CAAC,EAAA;MAAA,OAAKA,CAAC,CAACG,KAAK,CAAA;AAAA,KAAA,CAAC,CAACD,IAAI,CAAC,IAAI,CAAC,CAC1C,CAAA;AACD,IAAA,OAAA,IAAA,GAAYR,MAAM,GAAA,IAAA,CAAA;GACnB,CAAA;AAAA,EAAA;AAEI,SAASU,6BAA6BA,CAC3CC,KAAuB,EACiC;AAAA,EAAA,IADxDA,KAAuB,KAAA,KAAA,CAAA,EAAA;AAAvBA,IAAAA,KAAuB,GAAG,OAAO,CAAA;AAAA,GAAA;EAEjC,IAAMd,gBAAkC,GACtCc,KAAK,KAAK,MAAM,GAAGC,yBAAyB,GAAGC,0BAA0B,CAAA;AAC3E,EAAA,OAAO,SAASC,MAAMA,CAAqBC,MAAoB,EAAY;IACzE,IAAMjB,IAAc,GAAG,EAAE,CAAA;AACzB,IAAA,IAAME,MAAM,GAAGgB,oBAAoB,CAACD,MAAM,EAAEnB,KAAK,CAACC,gBAAgB,EAAEC,IAAI,CAAC,CAAC,CAAA;AAC1E,IAAA,OAAA,CAAQE,MAAM,CAAA,CAAAiB,MAAA,CAAKnB,IAAI,CAAA,CAAA;GACxB,CAAA;AACH;;;;"}