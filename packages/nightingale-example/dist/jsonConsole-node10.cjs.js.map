{"version":3,"file":"jsonConsole-node10.cjs.js","sources":["../src/jsonConsole.ts"],"sourcesContent":["import Logger, { configure, Level } from 'nightingale';\nimport consoleOutput from 'nightingale-console-output';\nimport jsonFormatter from 'nightingale-json-formatter';\nimport type { LogRecord, Metadata } from 'nightingale-types';\n\nclass JSONHandler {\n  minLevel: Level;\n\n  constructor(minLevel: number) {\n    this.minLevel = minLevel;\n  }\n\n  handle<T extends Metadata>(record: LogRecord<T>): void {\n    consoleOutput(jsonFormatter(record), record);\n  }\n}\n\nconfigure([\n  {\n    handlers: [new JSONHandler(Level.ALL)],\n  },\n]);\n\nconst logger = new Logger('app');\n\nlogger.log('test');\n\nconst timeStarted = logger.time();\nsetTimeout(() => logger.timeEnd(timeStarted, 'time measured'), 2000);\n\nlogger.success('Listening', { port: 3000 }, { port: ['yellow'] });\n"],"names":["JSONHandler","constructor","minLevel","handle","record","consoleOutput","jsonFormatter","configure","handlers","Level","ALL","logger","Logger","log","timeStarted","time","setTimeout","timeEnd","success","port"],"mappings":";;;;;;;;;;;;AAKA,MAAMA,WAAN,CAAkB;AAGhBC,EAAAA,WAAW,CAACC,QAAD,EAAmB;AAC5B,SAAKA,QAAL,GAAgBA,QAAhB;AACD;;AAEDC,EAAAA,MAAM,CAAqBC,MAArB,EAAiD;AACrDC,IAAAA,sBAAa,CAACC,sBAAa,CAACF,MAAD,CAAd,EAAwBA,MAAxB,CAAb;AACD;;AATe;;AAYlBG,gBAAS,CAAC,CACR;AACEC,EAAAA,QAAQ,EAAE,CAAC,IAAIR,WAAJ,CAAgBS,YAAK,CAACC,GAAtB,CAAD;AADZ,CADQ,CAAD,CAAT;AAMA,MAAMC,MAAM,GAAG,IAAIC,eAAJ,CAAW,KAAX,CAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,MAAX;AAEA,MAAMC,WAAW,GAAGH,MAAM,CAACI,IAAP,EAApB;AACAC,UAAU,CAAC,MAAML,MAAM,CAACM,OAAP,CAAeH,WAAf,EAA4B,eAA5B,CAAP,EAAqD,IAArD,CAAV;AAEAH,MAAM,CAACO,OAAP,CAAe,WAAf,EAA4B;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAA5B,EAA4C;AAAEA,EAAAA,IAAI,EAAE,CAAC,QAAD;AAAR,CAA5C;;"}