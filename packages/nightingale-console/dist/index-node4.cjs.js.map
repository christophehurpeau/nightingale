{"version":3,"file":"index-node4.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import formatterANSI from 'nightingale-ansi-formatter';\nimport consoleOutput from 'nightingale-console-output';\nimport createFindDebugLevel from 'nightingale-debug';\nimport { IsHandling, Handle, Record, Level } from 'nightingale-types';\n\nconst handle: Handle = <T>(record: Record<T>) => consoleOutput(formatterANSI(record), record);\nconst findDebugLevel = createFindDebugLevel(process.env.DEBUG);\n\nexport default class ConsoleHandler {\n  minLevel: Level = Level.ALL;\n  isHandling: IsHandling;\n  handle: Handle;\n\n  constructor(minLevel: Level) {\n    this.isHandling = (level: Level, key: string) => level >= findDebugLevel(minLevel, key);\n    this.handle = handle;\n  }\n}\n"],"names":["handle","record","consoleOutput","formatterANSI","findDebugLevel","createFindDebugLevel","process","env","DEBUG","ConsoleHandler","minLevel","Level","ALL","isHandling","level","key"],"mappings":";;;;;;;;;;;AAKA,IAAMA,SAAkB,SAAlBA,MAAkB,CAAGC,MAAH;SAAyBC,cAAcC,cAAcF,MAAd,CAAd,EAAqCA,MAArC,CAAzB;CAAxB;;AACA,IAAMG,iBAAiBC,qBAAqBC,QAAQC,GAAR,CAAYC,KAAjC,CAAvB;;IAEqBC,iBAKnB,wBAAYC,QAAZ,EAA6B;OAJ7BA,QAI6B,GAJXC,uBAAMC,GAIK;OAH7BC,UAG6B;OAF7Bb,MAE6B;;OACtBa,UAAL,GAAkB,UAACC,KAAD,EAAeC,GAAf;WAA+BD,SAASV,eAAeM,QAAf,EAAyBK,GAAzB,CAAxC;GAAlB;;OACKf,MAAL,GAAcA,MAAd;;;;;"}